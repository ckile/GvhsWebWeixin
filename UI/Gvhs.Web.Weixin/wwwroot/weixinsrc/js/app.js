webpackJsonp([0],[function(e,t,a){"use strict";var o=a(1);a(4),a(5),a(6),a(7),a(8),a(9),a(12),a(14),a(16),a(18),a(19),a(20),a(21),a(22),a(23),a(24),a(25),a(26),a(27),a(28),a(29),a(30),a(31),a(32),a(33),a(34),a(35),a(36),a(37),a(38),a(39),a(40),a(41),a(42),a(13),o.module("gvApp",["gvApp.core","gvApp.layout","gvApp.widgets","gvApp.modules"]).config(["$stateProvider","$urlRouterProvider","appConfigProvider",function(e,t,a){t.otherwise("/app/home"),e.state("app",{url:"/app",templateUrl:"/Weixin/Home/App","abstract":!0}).state("app.home",{url:"/home",templateUrl:"/Weixin/Home/Home",data:{title:"主页"}}).state("app.booking",{url:"/booking",templateUrl:"/Weixin/Booking/Index",data:{title:"预订"},resolve:{service:["$ocLazyLoad",function(e){return e.load({serie:!0,files:["/weixinsrc/assets/plugins/bootstrap-datepicker/css/datepicker3.css","/weixinsrc/assets/plugins/bootstrap-daterangepicker/daterangepicker-bs3.css","/weixinsrc/js/booking.js"]})}]}}).state("app.control",{url:"/control",templateUrl:"/Weixin/Control/Index",data:{title:"Control"}}).state("app.myhotel",{url:"/myhotel",templateUrl:"/Weixin/MyHotel/Index",data:{title:"我的酒店"}}).state("app.myreservation",{url:"/myreservation",templateUrl:"/Weixin/MyHotel/MyReservation",data:{title:"我的订单"}}).state("app.cancel",{url:"/cancel",templateUrl:"/Weixin/MyHotel/Cancel",data:{title:"取消"}}).state("app.roomservice",{url:"/roomservice",templateUrl:"/Weixin/RoomService/Index",data:{title:"客房服务"}}).state("app.proprietor",{url:"/proprietor",templateUrl:"/Weixin/Proprietor/Index",data:{title:"我是业主"}}).state("app.manager",{url:"/manager",templateUrl:"/Weixin/Manager/Index",data:{title:"掌控"}}).state("app.roomview",{url:"/roomview",templateUrl:"Weixin/Manager/RoomView",data:{title:"房态图"}}).state("app.roomviewchild",{url:"/roomviewchild",templateUrl:"Weixin/Manager/RoomViewChild",data:{title:"房态图子项"}}).state("app.realtimestatistic",{url:"/realtimestatistic",templateUrl:"Weixin/Manager/RealtimeStatistic",data:{title:"实时统计"}}).state("app.operationanalysis",{url:"/operationanalysis",templateUrl:"Weixin/Manager/OperationAnalysis",data:{title:"经营分析"}})}]).run(["$rootScope","$state","setting",function(e,t,a){e.$state=t,e.setting=a}])},,,,function(e,t,a){"use strict";var o=a(1);o.module("gvApp.core",["ui.router","oc.lazyLoad","ngAnimate","mgcrea.ngStrap.modal","mgcrea.ngStrap.popover"])},function(e,t,a){"use strict";var o=a(1);o.module("gvApp.modules",[])},function(e,t,a){"use strict";function o(){var e=this;return e.config={user:null,hotelInfo:null},{$get:function(){return{config:e.config}}}}var n=a(1);n.module("gvApp.core").provider("appConfig",o),o.$inject=[]},function(e,t,a){"use strict";var o=a(1);o.module("gvApp.layout",[])},function(e,t,a){"use strict";function o(e){var t={layout:{pageSidebarMinified:!1,pageFixedFooter:!1,pageRightSidebar:!1,pageTwoSidebar:!1,pageTopMenu:!1,pageBoxedLayout:!1,pageWithoutSidebar:!0,pageContentFullHeight:!1,pageContentFullWidth:!1,pageContentInverseMode:!1,pageSidebarTransparent:!1,pageWithFooter:!1,pageLightSidebar:!1,pageMegaMenu:!1,pageBgWhite:!1,pageWithoutHeader:!1,paceTop:!1}};return t}var n=a(1);n.module("gvApp.layout").factory("setting",o),o.$inject=["$rootScope"]},function(e,t,a){"use strict";function o(e){function t(){return e.get("/Weixin/api/Guests").success(function(e){return e}).error(function(e){i.error("User Error!")})}function a(){return e.get("/Weixin/api/HotelInfo").success(function(e){return e}).error(function(e){i.error("Hotel Info Error!")})}var o={getUser:t,getHotelInfo:a};return o}var n=a(1),i=a(10);n.module("gvApp.layout").factory("layoutService",o),o.$inject=["$http"]},,,function(e,t,a){"use strict";function o(e,t){i.App.initPageLoad()}var n=a(1),i=a(13);n.module("gvApp.layout").controller("pageLoaderController",o),o.$inject=["$rootScope","$scope"]},function(e,t,a){"use strict";var o=a(3),n=function(){o("[data-scrollbar=true]").each(function(){i(o(this))})},i=function(e){if(!o(e).attr("data-init")){var t=o(e).attr("data-height");t=t?t:o(e).height().toString();var a={height:t,alwaysVisible:!0};/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)?(o(e).css("height",t),o(e).css("overflow-x","scroll")):o(e).slimScroll(a),o(e).attr("data-init","true")}},r=function(){o(".sidebar .nav > .has-sub > a").click(function(){var e=o(this).next(".sub-menu"),t=".sidebar .nav > li.has-sub > .sub-menu";0===o(".page-sidebar-minified").length&&(o(t).not(e).slideUp(250,function(){o(this).closest("li").removeClass("expand")}),o(e).slideToggle(250,function(){var e=o(this).closest("li");o(e).hasClass("expand")?o(e).removeClass("expand"):o(e).addClass("expand")}))}),o(".sidebar .nav > .has-sub .sub-menu li.has-sub > a").click(function(){if(0===o(".page-sidebar-minified").length){var e=o(this).next(".sub-menu");o(e).slideToggle(250)}})},s=function(){var e=!1;o(".sidebar").bind("click touchstart",function(t){0!==o(t.target).closest(".sidebar").length?e=!0:(e=!1,t.stopPropagation())}),o(document).bind("click touchstart",function(t){0===o(t.target).closest(".sidebar").length&&(e=!1),t.isPropagationStopped()||e===!0||(o("#page-container").hasClass("page-sidebar-toggled")&&(e=!0,o("#page-container").removeClass("page-sidebar-toggled")),o(window).width()<=767&&o("#page-container").hasClass("page-right-sidebar-toggled")&&(e=!0,o("#page-container").removeClass("page-right-sidebar-toggled")))}),o("[data-click=right-sidebar-toggled]").click(function(t){t.stopPropagation();var a="#page-container",n="page-right-sidebar-collapsed";n=o(window).width()<979?"page-right-sidebar-toggled":n,o(a).hasClass(n)?o(a).removeClass(n):e!==!0?o(a).addClass(n):e=!1,o(window).width()<480&&o("#page-container").removeClass("page-sidebar-toggled")}),o("[data-click=sidebar-toggled]").click(function(t){t.stopPropagation();var a="page-sidebar-toggled",n="#page-container";o(n).hasClass(a)?o(n).removeClass(a):e!==!0?o(n).addClass(a):e=!1,o(window).width()<480&&o("#page-container").removeClass("page-right-sidebar-toggled")})},l=function(){o("[data-click=sidebar-minify]").click(function(e){e.preventDefault();var t="page-sidebar-minified",a="#page-container";o('#sidebar [data-scrollbar="true"]').css("margin-top","0"),o('#sidebar [data-scrollbar="true"]').removeAttr("data-init"),o("#sidebar [data-scrollbar=true]").stop(),o(a).hasClass(t)?(o(a).removeClass(t),o(a).hasClass("page-sidebar-fixed")?(0!==o("#sidebar .slimScrollDiv").length&&(o('#sidebar [data-scrollbar="true"]').slimScroll({}),o('#sidebar [data-scrollbar="true"]').removeAttr("style")),i(o('#sidebar [data-scrollbar="true"]')),o("#sidebar [data-scrollbar=true]").trigger("mouseover")):/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)&&(0!==o("#sidebar .slimScrollDiv").length&&(o('#sidebar [data-scrollbar="true"]').slimScroll({}),o('#sidebar [data-scrollbar="true"]').removeAttr("style")),i(o('#sidebar [data-scrollbar="true"]')))):(o(a).addClass(t),/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)?(o('#sidebar [data-scrollbar="true"]').css("margin-top","0"),o('#sidebar [data-scrollbar="true"]').css("overflow","visible")):(o(a).hasClass("page-sidebar-fixed")&&(o('#sidebar [data-scrollbar="true"]').slimScroll({}),o('#sidebar [data-scrollbar="true"]').removeAttr("style")),o("#sidebar [data-scrollbar=true]").trigger("mouseover"))),o(window).trigger("resize")})},c=function(){o.when(o("#page-loader").addClass("hide")).done(function(){o("#page-container").addClass("in")})},d=!1,u=function(){return d?!1:(d=!0,o(document).on("hover","[data-click=panel-remove]",function(e){o(this).tooltip({title:"Remove",placement:"bottom",trigger:"hover",container:"body"}),o(this).tooltip("show")}),o(document).on("click","[data-click=panel-remove]",function(e){e.preventDefault(),o(this).tooltip("destroy"),o(this).closest(".panel").remove()}),o(document).on("hover","[data-click=panel-collapse]",function(e){o(this).tooltip({title:"Collapse / Expand",placement:"bottom",trigger:"hover",container:"body"}),o(this).tooltip("show")}),o(document).on("click","[data-click=panel-collapse]",function(e){e.preventDefault(),o(this).closest(".panel").find(".panel-body").slideToggle()}),o(document).on("hover","[data-click=panel-reload]",function(e){o(this).tooltip({title:"Reload",placement:"bottom",trigger:"hover",container:"body"}),o(this).tooltip("show")}),o(document).on("click","[data-click=panel-reload]",function(e){e.preventDefault();var t=o(this).closest(".panel");if(!o(t).hasClass("panel-loading")){var a=o(t).find(".panel-body"),n='<div class="panel-loader"><span class="spinner-small"></span></div>';o(t).addClass("panel-loading"),o(a).prepend(n),setTimeout(function(){o(t).removeClass("panel-loading"),o(t).find(".panel-loader").remove()},2e3)}}),o(document).on("hover","[data-click=panel-expand]",function(e){o(this).tooltip({title:"Expand / Compress",placement:"bottom",trigger:"hover",container:"body"}),o(this).tooltip("show")}),void o(document).on("click","[data-click=panel-expand]",function(e){e.preventDefault();var t=o(this).closest(".panel"),a=o(t).find(".panel-body"),n=40;if(0!==o(a).length){var i=o(t).offset().top,r=o(a).offset().top;n=r-i}if(o("body").hasClass("panel-expand")&&o(t).hasClass("panel-expand"))o("body, .panel").removeClass("panel-expand"),o(".panel").removeAttr("style"),o(a).removeAttr("style");else if(o("body").addClass("panel-expand"),o(this).closest(".panel").addClass("panel-expand"),0!==o(a).length&&40!=n){var s=40;o(t).find(" > *").each(function(){var e=o(this).attr("class");"panel-heading"!=e&&"panel-body"!=e&&(s+=o(this).height()+30)}),40!=s&&o(a).css("top",s+"px")}o(window).trigger("resize")}))},p=function(){var e=o(".panel").parent("[class*=col]"),t=".panel-heading",a=".row > [class*=col]";o(e).sortable({handle:t,connectWith:a,stop:function(e,t){t.item.find(".panel-title").append('<i class="fa fa-refresh fa-spin m-l-5" data-id="title-spinner"></i>'),b(t.item)}})},m=function(){o("[data-toggle=tooltip]").tooltip(),o("[data-toggle=popover]").popover()},g=function(){o(document).scroll(function(){var e=o(document).scrollTop();e>=200?o("[data-click=scroll-top]").addClass("in"):o("[data-click=scroll-top]").removeClass("in")}),o("[data-click=scroll-top]").click(function(e){e.preventDefault(),o("html, body").animate({scrollTop:o("body").offset().top},500)})},f=function(){if(o.cookie&&o.cookie("theme")){0!==o(".theme-list").length&&(o(".theme-list [data-theme]").closest("li").removeClass("active"),o('.theme-list [data-theme="'+o.cookie("theme")+'"]').closest("li").addClass("active"));var e="assets/css/theme/"+o.cookie("theme")+".css";o("#theme").attr("href",e)}o.cookie&&o.cookie("sidebar-styling")&&0!==o(".sidebar").length&&"grid"==o.cookie("sidebar-styling")&&(o(".sidebar").addClass("sidebar-grid"),o('[name=sidebar-styling] option[value="2"]').prop("selected",!0)),o.cookie&&o.cookie("header-styling")&&0!==o(".header").length&&"navbar-inverse"==o.cookie("header-styling")&&(o(".header").addClass("navbar-inverse"),o('[name=header-styling] option[value="2"]').prop("selected",!0)),o.cookie&&o.cookie("content-gradient")&&0!==o("#page-container").length&&"enabled"==o.cookie("content-gradient")&&(o("#page-container").addClass("gradient-enabled"),o('[name=content-gradient] option[value="2"]').prop("selected",!0)),o.cookie&&o.cookie("content-styling")&&0!==o("body").length&&"black"==o.cookie("content-styling")&&(o("body").addClass("flat-black"),o('[name=content-styling] option[value="2"]').prop("selected",!0)),o(".theme-list [data-theme]").click(function(){var e="assets/css/theme/"+o(this).attr("data-theme")+".css";o("#theme").attr("href",e),o(".theme-list [data-theme]").not(this).closest("li").removeClass("active"),o(this).closest("li").addClass("active"),o.cookie("theme",o(this).attr("data-theme"))}),o(".theme-panel [name=header-styling]").on("change",function(){var e=1==o(this).val()?"navbar-default":"navbar-inverse",t=1==o(this).val()?"navbar-inverse":"navbar-default";o("#header").removeClass(t).addClass(e),o.cookie("header-styling",e)}),o(".theme-panel [name=sidebar-styling]").on("change",function(){2==o(this).val()?(o("#sidebar").addClass("sidebar-grid"),o.cookie("sidebar-styling","grid")):(o("#sidebar").removeClass("sidebar-grid"),o.cookie("sidebar-styling","default"))}),o(".theme-panel [name=content-gradient]").on("change",function(){2==o(this).val()?(o("#page-container").addClass("gradient-enabled"),o.cookie("content-gradient","enabled")):(o("#page-container").removeClass("gradient-enabled"),o.cookie("content-gradient","disabled"))}),o(document).on("change",".theme-panel [name=content-styling]",function(){2==o(this).val()?(o("body").addClass("flat-black"),o.cookie("content-styling","black")):(o("body").removeClass("flat-black"),o.cookie("content-styling","default"))}),o(document).on("change",".theme-panel [name=sidebar-fixed]",function(){1==o(this).val()?(2==o(".theme-panel [name=header-fixed]").val()&&(alert("Default Header with Fixed Sidebar option is not supported. Proceed with Fixed Header with Fixed Sidebar."),o('.theme-panel [name=header-fixed] option[value="1"]').prop("selected",!0),o("#header").addClass("navbar-fixed-top"),o("#page-container").addClass("page-header-fixed")),o("#page-container").addClass("page-sidebar-fixed"),o("#page-container").hasClass("page-sidebar-minified")||i(o('.sidebar [data-scrollbar="true"]'))):(o("#page-container").removeClass("page-sidebar-fixed"),0!==o(".sidebar .slimScrollDiv").length&&(o(window).width()<=979?o(".sidebar").each(function(){if(!o("#page-container").hasClass("page-with-two-sidebar")||!o(this).hasClass("sidebar-right")){o(this).find(".slimScrollBar").remove(),o(this).find(".slimScrollRail").remove(),o(this).find('[data-scrollbar="true"]').removeAttr("style");var e=o(this).find('[data-scrollbar="true"]').parent(),t=o(e).html();o(e).replaceWith(t)}}):o(window).width()>979&&(o('.sidebar [data-scrollbar="true"]').slimScroll({}),o('.sidebar [data-scrollbar="true"]').removeAttr("style"))),0===o("#page-container .sidebar-bg").length&&o("#page-container").append('<div class="sidebar-bg"></div>'))}),o(document).on("change",".theme-panel [name=header-fixed]",function(){1==o(this).val()?(o("#header").addClass("navbar-fixed-top"),o("#page-container").addClass("page-header-fixed"),o.cookie("header-fixed",!0)):(1==o(".theme-panel [name=sidebar-fixed]").val()&&(alert("Default Header with Fixed Sidebar option is not supported. Proceed with Default Header with Default Sidebar."),o('.theme-panel [name=sidebar-fixed] option[value="2"]').prop("selected",!0),o("#page-container").removeClass("page-sidebar-fixed"),0===o("#page-container .sidebar-bg").length&&o("#page-container").append('<div class="sidebar-bg"></div>')),o("#header").removeClass("navbar-fixed-top"),o("#page-container").removeClass("page-header-fixed"),o.cookie("header-fixed",!1))})},v=function(){o(document).on("click",'[data-click="theme-panel-expand"]',function(){var e=".theme-panel",t="active";o(e).hasClass(t)?o(e).removeClass(t):o(e).addClass(t)})},h=function(){0!==o("[data-pageload-addclass]").length&&o(window).load(function(){o("[data-pageload-addclass]").each(function(){var e=o(this).attr("data-pageload-addclass");o(this).addClass(e)})})},b=function(e){if(0!==o(".ui-sortable").length){var t=[],a=0;o.when(o(".ui-sortable").each(function(){var e=o(this).find("[data-sortable-id]");if(0!==e.length){var n=[];o(e).each(function(){var e=o(this).attr("data-sortable-id");n.push({id:e})}),t.push(n)}else t.push([]);a++})).done(function(){var a=window.location.href,n=a.split("?");a=n[0],localStorage.setItem(a,JSON.stringify(t)),o(e).find('[data-id="title-spinner"]').delay(500).fadeOut(500,function(){o(this).remove()})})}},y=function(){if("undefined"!=typeof Storage&&"undefined"!=typeof localStorage){var e=window.location.href,t=e.split("?");e=t[0];var a=localStorage.getItem(e);if(a){a=JSON.parse(a);var n=0;o(".panel").parent('[class*="col-"]').each(function(){var e=a[n],t=o(this);e&&o.each(e,function(e,a){var n=o('[data-sortable-id="'+a.id+'"]').not('[data-init="true"]');if(0!==o(n).length){var i=o(n).clone();o(n).remove(),o(t).append(i),o('[data-sortable-id="'+a.id+'"]').attr("data-init","true")}}),n++})}}else alert("Your browser is not supported with the local storage")},C=function(){o(document).on("click","[data-click=reset-local-storage]",function(e){e.preventDefault();var t='<div class="modal fade" data-modal-id="reset-local-storage-confirmation">    <div class="modal-dialog">        <div class="modal-content">            <div class="modal-header">                <button type="button" class="close" data-dismiss="modal" aria-hidden="true">×</button>                <h4 class="modal-title"><i class="fa fa-refresh m-r-5"></i> Reset Local Storage Confirmation</h4>            </div>            <div class="modal-body">                <div class="alert alert-info m-b-0">Would you like to RESET all your saved widgets and clear Local Storage?</div>            </div>            <div class="modal-footer">                <a href="javascript:;" class="btn btn-sm btn-white" data-dismiss="modal"><i class="fa fa-close"></i> No</a>                <a href="javascript:;" class="btn btn-sm btn-inverse" data-click="confirm-reset-local-storage"><i class="fa fa-check"></i> Yes</a>            </div>        </div>    </div></div>';o("body").append(t),o('[data-modal-id="reset-local-storage-confirmation"]').modal("show")}),o(document).on("hidden.bs.modal",'[data-modal-id="reset-local-storage-confirmation"]',function(e){o('[data-modal-id="reset-local-storage-confirmation"]').remove()}),o(document).on("click","[data-click=confirm-reset-local-storage]",function(e){e.preventDefault();var t=window.location.href,a=t.split("?");t=a[0],localStorage.removeItem(t),location.reload()})},w=function(){var e=window.navigator.userAgent,t=e.indexOf("MSIE ");(t>0||navigator.userAgent.match(/Trident.*rv\:11\./))&&o('.vertical-box-row [data-scrollbar="true"][data-height="100%"]').each(function(){var e=o(this).closest(".vertical-box-row"),t=o(e).height();o(e).find(".vertical-box-cell").height(t)})},k=function(){function e(e,t){var a=(parseInt(o(e).css("margin-left")),o(e).width()),n=o(e).find("li.active").width(),i=t>-1?t:150,r=0;if(o(e).find("li.active").prevAll().each(function(){n+=o(this).width()}),o(e).find("li").each(function(){r+=o(this).width()}),n>=a){var s=n-a;r!=n&&(s+=40),o(e).find(".nav.nav-tabs").animate({marginLeft:"-"+s+"px"},i)}n!=r&&r>=a?o(e).addClass("overflow-right"):o(e).removeClass("overflow-right"),n>=a&&r>=a?o(e).addClass("overflow-left"):o(e).removeClass("overflow-left")}function t(e,t){var a=o(e).closest(".tab-overflow"),n=parseInt(o(a).find(".nav.nav-tabs").css("margin-left")),i=o(a).width(),r=0,s=0;switch(o(a).find("li").each(function(){o(this).hasClass("next-button")||o(this).hasClass("prev-button")||(r+=o(this).width())}),t){case"next":var l=r+n-i;i>=l?(s=l-n,setTimeout(function(){o(a).removeClass("overflow-right")},150)):s=i-n-80,0!=s&&o(a).find(".nav.nav-tabs").animate({marginLeft:"-"+s+"px"},150,function(){o(a).addClass("overflow-left")});break;case"prev":var l=-n;i>=l?(o(a).removeClass("overflow-left"),s=0):s=l-i+80,o(a).find(".nav.nav-tabs").animate({marginLeft:"-"+s+"px"},150,function(){o(a).addClass("overflow-right")})}}function a(){o(".tab-overflow").each(function(){var t=o(this).width(),a=0,n=o(this),i=t;o(n).find("li").each(function(){var e=o(this);a+=o(e).width(),o(e).hasClass("active")&&a>t&&(i-=a)}),e(this,0)})}o('[data-click="next-tab"]').click(function(e){e.preventDefault(),t(this,"next")}),o('[data-click="prev-tab"]').click(function(e){e.preventDefault(),t(this,"prev")}),o(window).resize(function(){o(".tab-overflow .nav.nav-tabs").removeAttr("style"),a()}),a()},x=function(){/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)&&o("#page-container").hasClass("page-sidebar-minified")&&(o('#sidebar [data-scrollbar="true"]').css("overflow","visible"),o('.page-sidebar-minified #sidebar [data-scrollbar="true"]').slimScroll({}),o('.page-sidebar-minified #sidebar [data-scrollbar="true"]').removeAttr("style"),o(".page-sidebar-minified #sidebar [data-scrollbar=true]").trigger("mouseover"))},S=function(){function e(e,t){var a=o(e).closest(".nav"),n=parseInt(o(a).css("margin-left")),i=o(".top-menu").width()-88,r=0,s=0;switch(o(a).find("li").each(function(){o(this).hasClass("menu-control")||(r+=o(this).width())}),t){case"next":var l=r+n-i;i>=l?(s=l-n+128,setTimeout(function(){o(a).find(".menu-control.menu-control-right").removeClass("show")},150)):s=i-n-128,0!=s&&o(a).animate({marginLeft:"-"+s+"px"},150,function(){o(a).find(".menu-control.menu-control-left").addClass("show")});break;case"prev":var l=-n;i>=l?(o(a).find(".menu-control.menu-control-left").removeClass("show"),s=0):s=l-i+88,o(a).animate({marginLeft:"-"+s+"px"},150,function(){o(a).find(".menu-control.menu-control-right").addClass("show")})}}function t(){var e=o(".top-menu .nav"),t=o(".top-menu .nav > li"),a=o(".top-menu .nav > li.active"),n=o(".top-menu"),i=(parseInt(o(e).css("margin-left")),o(n).width()-128),r=o(".top-menu .nav > li.active").width(),s=0,l=0;if(o(a).prevAll().each(function(){r+=o(this).width()}),o(t).each(function(){o(this).hasClass("menu-control")||(l+=o(this).width())}),r>=i){var c=r-i+128;o(e).animate({marginLeft:"-"+c+"px"},s)}r!=l&&l>=i?o(e).find(".menu-control.menu-control-right").addClass("show"):o(e).find(".menu-control.menu-control-right").removeClass("show"),r>=i&&l>=i?o(e).find(".menu-control.menu-control-left").addClass("show"):o(e).find(".menu-control.menu-control-left").removeClass("show")}o('[data-click="next-menu"]').click(function(t){t.preventDefault(),e(this,"next")}),o('[data-click="prev-menu"]').click(function(t){t.preventDefault(),e(this,"prev")}),o(window).resize(function(){o(".top-menu .nav").removeAttr("style"),t()}),t()},$=function(){o(".top-menu .sub-menu .has-sub > a").click(function(){var e=o(this).closest("li").find(".sub-menu").first(),t=o(this).closest("ul").find(".sub-menu").not(e);o(t).not(e).slideUp(250,function(){o(this).closest("li").removeClass("expand")}),o(e).slideToggle(250,function(){var e=o(this).closest("li");o(e).hasClass("expand")?o(e).removeClass("expand"):o(e).addClass("expand")})})},A=function(){o(".top-menu .nav > li.has-sub > a").click(function(){if(o(window).width()<=767){var e=o(this).closest("li").find(".sub-menu").first(),t=o(this).closest("ul").find(".sub-menu").not(e);o(t).not(e).slideUp(250,function(){o(this).closest("li").removeClass("expand")}),o(e).slideToggle(250,function(){var e=o(this).closest("li");o(e).hasClass("expand")?o(e).removeClass("expand"):o(e).addClass("expand")})}})},R=function(){o('[data-click="top-menu-toggled"]').click(function(){o(".top-menu").slideToggle(250)})},D=function(){o(".sidebar .nav > li, .sidebar .nav .sub-menu").removeClass("expand").removeAttr("style")},T=function(){o("#page-container").removeClass("page-sidebar-toggled")};t.App={init:function(){this.initSidebar(),this.initTopMenu(),this.initPageLoad(),this.initComponent(),this.initLocalStorage(),this.initThemePanel()},initSidebar:function(){r(),s(),l(),x()},initSidebarSelection:function(){D()},initSidebarMobileSelection:function(){T()},initTopMenu:function(){S(),$(),A(),R()},initPageLoad:function(){c()},initComponent:function(){w(),n(),k(),u(),m(),g(),h(),p()},initLocalStorage:function(){y()},initThemePanel:function(){f(),v(),C()},scrollTop:function(){o("html, body").animate({scrollTop:o("body").offset().top},0)}}},function(e,t,a){"use strict";function o(e,t,a,o){function n(){}t.$on("$includeContentLoaded",function(e,t){r.App.initComponent()}),t.$on("$viewContentLoaded",function(e,t){r.App.initComponent(),r.App.initLocalStorage()}),t.$on("$stateChangeStart",function(){alert("stateChange"),e.setting.layout.pageSidebarMinified=!0,e.setting.layout.pageFixedFooter=!1,e.setting.layout.pageRightSidebar=!1,e.setting.layout.pageTwoSidebar=!1,e.setting.layout.pageTopMenu=!1,e.setting.layout.pageBoxedLayout=!1,e.setting.layout.pageWithoutSidebar=!0,e.setting.layout.pageContentFullHeight=!1,e.setting.layout.pageContentFullWidth=!1,e.setting.layout.paceTop=!1,e.setting.layout.pageLanguageBar=!1,e.setting.layout.pageSidebarTransparent=!1,e.setting.layout.pageWideSidebar=!1,e.setting.layout.pageLightSidebar=!1,e.setting.layout.pageFooter=!1,e.setting.layout.pageMegaMenu=!1,e.setting.layout.pageWithoutHeader=!1,e.setting.layout.pageBgWhite=!1,r.App.scrollTop(),i(".pace .pace-progress").addClass("hide"),i(".pace").removeClass("pace-inactive")}),t.$on("$stateChangeSuccess",function(){s.restart(),r.App.initPageLoad(),r.App.initSidebarSelection(),r.App.initLocalStorage(),r.App.initSidebarMobileSelection()}),t.$on("$stateNotFound",function(){s.stop()}),t.$on("$stateChangeError",function(){s.stop()}),n()}var n=a(1),i=a(3),r=a(13),s=a(15);n.module("gvApp.layout").controller("appController",o),o.$inject=["$rootScope","$scope","appConfig","layoutService"]},function(e,t){e.exports=Pace},function(e,t,a){"use strict";function o(e,t,a,o,n,i){function r(){n.getUser().then(function(e){u.userName=e.data.Name,u.headImgUrl=e.data.WeixinHeadimgurl,o.config.user=e.data}),n.getHotelInfo().then(function(e){u.hotelName=e.data.hotelName,o.config.hotelInfo=e.data})}function s(){i({title:u.hotelName,content:"This Tips",show:!0})}function l(){}function c(){i({title:"提示",content:"您已入住酒店，房间号为:"+u.roomCode,show:!0})}function d(){}var u=this;u.hotelName="Hotel Name",u.userName="User Name",u.headImgUrl="",u.roomCode=null,u.hotelNameClick=s,u.userNameClick=l,u.roomCodeClick=c,u.tipClick=d,r()}var n=a(1);a(17),n.module("gvApp.layout").controller("headerController",o),o.$inject=["$scope","$rootScope","$state","appConfig","layoutService","$modal"]},,function(e,t,a){"use strict";function o(){}var n=a(1);n.module("gvApp.layout").controller("sidebarController",o),o.$inject=[]},function(e,t,a){"use strict";function o(e,t){function a(){}function o(){e.go("app.booking")}function n(){e.go("app.control")}function i(){e.go("app.roomservice")}function r(){e.go("app.myhotel")}function s(){e.go("app.manager")}function l(){e.go("app.proprietor")}var c=this;c.booking=o,c.control=n,c.roomService=i,c.myhotel=r,c.manager=s,c.proprietor=l,a()}var n=a(1);n.module("gvApp.layout").controller("homeController",o),o.$inject=["$state","setting"]},function(e,t,a){"use strict";var o=a(1);o.module("gvApp.widgets",[])},function(e,t,a){"use strict";function o(){return function(){for(var e=[],t=0;t<arguments.length;t++)e[t-0]=arguments[t];return{restrict:"E",link:function(e,t,a){(a.ngClick||""===a.href||"#"===a.href)&&t.on("click",function(e){e.preventDefault()})}}}}var n=a(1);n.module("gvApp.widgets").directive("a",o),o.$inject=[]},function(e,t,a){"use strict";function o(e,t,a,o,n,l){function c(){d(g(0)),u(g(1)),i("#datepicker-inline").datepicker({todayHighlight:!0,language:"zh-CN",startDate:g(0),endDate:g(60)})}function d(e){R.item.Arrival=e,R.arrival.mon=(e.getMonth()+1).toString(),1==R.arrival.mon.length&&(R.arrival.mon="0"+R.arrival.mon),R.arrival.day=e.getDate().toString(),1==R.arrival.day.length&&(R.arrival.day="0"+R.arrival.day),R.arrival.week=A[e.getDay()]}function u(e){R.item.Departure=e,R.departure.mon=(e.getMonth()+1).toString(),1==R.departure.mon.length&&(R.departure.mon="0"+R.departure.mon),R.departure.day=e.getDate().toString(),1==R.departure.day.length&&(R.departure.day="0"+R.departure.day),R.departure.week=A[e.getDay()],R.departure.days=parseInt(((R.item.Departure-R.item.Arrival)/1e3/60/60/24).toString())}function p(e){var t=R.item.Arrival;0>e&&t<=g(0)||(t.setDate(t.getDate()+e),d(t),m(e))}function m(e){var t=R.item.Departure;0>e&&t<=R.item.Arrival||(t.setDate(t.getDate()+e),u(t))}function g(e){var t=new Date;return t.setDate(t.getDate()+e),t}function f(e){R.item.adult=e}function v(){a.getVerifyCode().then(function(e){null!=e.data.VerifyCode?R.code=e.data.VerifyCode:s.error("获取失败")})}function h(){alert(JSON.stringify(R.VerifyCode)),alert(JSON.stringify(R.code)),R.VerifyCode==R.code?(R.step=2,d(g(0)),u(g(1)),i("#datepicker-inline").datepicker({todayHighlight:!0,language:"zh-CN",startDate:g(0),endDate:g(60)})):alert("验证码错误!")}function b(){a.getRoomTypes(R.item).then(function(e){e.data.length>0?(R.step=3,r.App.scrollTop(),R.roomtypes=e.data):o({title:"无可用房间",content:"抱歉，在您选择的日期内，房间已售罄。请您改变行程。",show:!0})})}function y(){R.step=2,r.App.scrollTop()}function C(e){R.step=4,r.App.scrollTop(),R.item.RoomTypeId=e.Id,R.item.RoomType=e,R.item.Rate=e.Rate}function w(){R.selectDateTitle="入住日期",i("#selectDateModal").modal("show")}function k(){R.selectDateTitle="离店日期",i("#selectDateModal").modal("show")}function x(){i("#selectDateModal").modal("hide")}function S(){i("#subimt-resv").addClass("disabled"),a.postReservation(R.item).then(function(e){R.resvnum=e.data.Data,R.step=5,i("#subimt-resv").removeClass("disabled"),r.App.scrollTop()})}function $(){R.step=2,r.App.scrollTop()}var A=new Array(7);A[0]="日",A[1]="一",A[2]="二",A[3]="三",A[4]="四",A[5]="五",A[6]="六";var R=this;R.step=2,R.setAdult=f,R.selectDateTitle="",R.arrival={mon:"01",day:"01",week:"一"},R.departure={mon:"01",day:"01",week:"一",days:1},R.addArrival=p,R.addDeparture=m,R.selectArrival=w,R.selectDeparture=k,R.selectedDate=x,R.item={Guest:l.config.user,Adult:1},R.roomtypes=[],R.dateQuery=h,R.VerifyCode="",R.code=0,R.getVerifyCode=v,R.resvnum="",R.roomQuery=b,R.backQuery=y,R.booking=C,R.subimtResv=S,R.bookingNext=$,c()}var n=a(1),i=a(3),r=a(13),s=a(10);n.module("gvApp.modules").controller("bookingController",o),o.$inject=["$scope","$rootScope","bookingService","$modal","$state","appConfig"]},function(e,t,a){"use strict";function o(e){function t(t){return e.post("/Weixin/Booking/RoomTypes",t).success(function(e){return e}).error(function(e){i.error("Get Room Type Error!")})}function a(t){return e.post("/Weixin/api/Reservations",t).success(function(e){return e}).error(function(e){i.error("Post Reservation Error!")})}function o(){return e.get("/Weixin/Booking/GetVerifyCode").success(function(e){return e}).error(function(e){i.error("GetData Error!")})}var n={getRoomTypes:t,postReservation:a,getVerifyCode:o};return n}var n=a(1),i=a(10);n.module("gvApp.modules").factory("bookingService",o),o.$inject=["$http"]},function(e,t,a){"use strict";function o(){function e(){}e()}var n=a(1);n.module("gvApp.modules").controller("controlController",o),o.$inject=[]},function(e,t,a){"use strict";function o(e,t,a,o){function n(){}function i(){o.go("app.myreservation")}var r=this;r.myReservation=i,n()}var n=a(1);n.module("gvApp.modules").controller("myhotelController",o),o.$inject=["$rootScope","$scope","$modal","$state"]},function(e,t){},function(e,t,a){"use strict";function o(e,t,a,o,n,r){function s(){n.GetReservationByGuest(c.guestCode).then(function(e){e.data.length>0?c.reservations=e.data:i.error("获取失败")})}function l(e){r.config.current=e,o.go("app.cancel")}var c=this;c.reservations=[],c.guestCode=2,c.cancel=l,s()}var n=a(1),i=a(10);n.module("gvApp.modules").controller("myreservationController",o),o.$inject=["$rootScope","$scope","$modal","$state","myreservationService","appConfig"]},function(e,t,a){"use strict";function o(e){function t(t){return e.post("/Weixin/MyHotel/GetReservationByGuest",t).success(function(e){return e}).error(function(e){i.error("GetReservationByGuest Error!")})}var a={GetReservationByGuest:t};return a}var n=a(1),i=a(10);n.module("gvApp.modules").factory("myreservationService",o),o.$inject=["$http"]},function(e,t,a){"use strict";function o(e,t,a,o,n,r){function s(){r.getResvByResvNum(d.resvNum).then(function(e){null!=d.resvNum?(d.arrDt=e.data.ArrDt,d.dptDt=e.data.DptDt,d.rmType=e.data.RmType,d.rate=e.data.Rate):i.error("获取失败")})}function l(e){r.cancelReservation(d.resvNum).then(function(e){"1"==e.data.data?(i.success("取消订单成功"),o.go("app.myreservation")):i.error("取消订单失败")})}function c(){o.go("app.myreservation")}var d=this;d.resvNum=n.config.current,d.arrDt="",d.dptDt="",d.rmType="",d.rate="",d.remark="",d.cancel=l,d.back=c,s()}var n=a(1),i=a(10);n.module("gvApp.modules").controller("cancelController",o),
o.$inject=["$rootScope","$scope","$modal","$state","appConfig","cancelService"]},function(e,t,a){"use strict";function o(e){function t(t){return e.post("/Weixin/MyHotel/GetResvByResvNum",t).success(function(e){return e}).error(function(e){i.error("GetResvByResvNum Error!")})}function a(t){return e.post("/Weixin/MyHotel/CancelReservation",t).success(function(e){return e}).error(function(e){i.error("ResvCancel Error!")})}var o={getResvByResvNum:t,cancelReservation:a};return o}var n=a(1),i=a(10);n.module("gvApp.modules").factory("cancelService",o),o.$inject=["$http"]},function(e,t,a){"use strict";function o(e,t){}var n=a(1);n.module("gvApp.modules").controller("roomServiceController",o),o.$inject=["$rootScope","$scope"]},function(e,t,a){"use strict";function o(e,t){}var n=a(1);n.module("gvApp.modules").controller("proprietorController",o),o.$inject=["$rootScope","$scope"]},function(e,t,a){"use strict";function o(e,t,a,o,n){function r(){a.getData().then(function(e){null!=e.data.occRate||null!=e.data.avgRate||null!=e.data.reve?(p.occupancyRate=s(e.data.occRate),p.averageRoomRate=l(e.data.avgRate),p.expectedRevenue=l(e.data.reve)):i.error("获取失败")})}function s(e){var t=e.toFixed(4),a=t.slice(2,4)+"."+t.slice(4,6);return a}function l(e){var t=e.toFixed(2);return t}function c(){n.go("app.roomview")}function d(){n.go("app.realtimestatistic")}function u(){n.go("app.operationanalysis")}var p=this;p.occupancyRate=0,p.averageRoomRate=0,p.expectedRevenue=0,p.roomView=c,p.realtimeStatistic=d,p.operationAnalysis=u,r()}var n=a(1),i=a(10);n.module("gvApp.modules").controller("managerController",o),o.$inject=["$rootScope","$scope","managerService","$modal","$state"]},function(e,t,a){"use strict";function o(e){function t(){return e.get("/Weixin/Manager/GetData").success(function(e){return e}).error(function(e){i.error("GetData Error!")})}var a={getData:t};return a}var n=a(1),i=a(10);n.module("gvApp.modules").factory("managerService",o),o.$inject=["$http"]},function(e,t,a){"use strict";function o(e,t,a,o,n,r){function s(){a.getRoomViews().then(function(e){e.data.length>0?c.roomviews=e.data:i.error("获取失败")})}function l(e){r.config.current=e,n.go("app.roomviewchild")}var c=this;c.roomviews=[],c.roomviewchild=l,s()}var n=a(1),i=a(10);n.module("gvApp.modules").controller("roomviewController",o),o.$inject=["$rootScope","$scope","roomviewService","$modal","$state","appConfig"]},function(e,t,a){"use strict";function o(e){function t(){return e.get("/Weixin/Manager/GetRoomViews").success(function(e){return e}).error(function(e){i.error("GetRoomViews Error!")})}var a={getRoomViews:t};return a}var n=a(1),i=a(10);n.module("gvApp.modules").factory("roomviewService",o),o.$inject=["$http"]},function(e,t,a){"use strict";function o(e,t,a,o,n,s){function l(){r("#changeRoomView").css("background","red"),a.getRoomViewByRmNum(u.rmNum).then(function(e){null!=u.rmNum?(u.name=e.data.Name,u.rmType=e.data.RmType,u.rate=e.data.Rate):i.error("获取失败")})}function c(){r("#changeRoomView").css("background","green")}function d(){n.go("app.roomview")}var u=this;u.name="",u.rmNum=s.config.current,u.rmType="",u.rate=0,u.changeRoomView=c,u.back=d,l()}var n=a(1),i=a(10),r=a(3);n.module("gvApp.modules").controller("roomviewchildController",o),o.$inject=["$rootScope","$scope","roomviewchildService","$modal","$state","appConfig"]},function(e,t,a){"use strict";function o(e){function t(t){return e.post("/Weixin/Manager/GetRoomViewByRmNum",t).success(function(e){return e}).error(function(e){i.error("GetRoomViewByRmNum Error!")})}var a={getRoomViewByRmNum:t};return a}var n=a(1),i=a(10);n.module("gvApp.modules").factory("roomviewchildService",o),o.$inject=["$http"]},function(e,t,a){"use strict";function o(e,t,a,o,n){function r(){a.getData().then(function(e){e.data.length>0?(s.totalRoom=e.data.totalRoom,s.closeRoom=e.data.closeRoom,s.repairRoom=e.data.repairRoom,s.rentRoom=e.data.rentRoom,s.expectArrive=e.data.expectArrive,s.actualArrive=e.data.actualArrive,s.expectDeparture=e.data.expectDeparture,s.actualDeparture=e.data.actualDeparture,s.walkin=e.data.walkin,s.team=e.data.team,s.personal=e.data.personal,s.free=e.data.free,s.meeting=e.data.meeting,s.longTerm=e.data.longTerm):i.error("获取失败")})}var s=this;s.totalRoom=0,s.closeRoom=0,s.repairRoom=0,s.rentRoom=0,s.expectArrive=0,s.actualArrive=0,s.expectDeparture=0,s.actualDeparture=0,s.walkin=0,s.team=0,s.personal=0,s.free=0,s.meeting=0,s.longTerm=0,r()}var n=a(1),i=a(10);n.module("gvApp.modules").controller("realtimestatisticController",o),o.$inject=["$rootScope","$scope","realtimestatisticService","$modal","$state"]},function(e,t,a){"use strict";function o(e){function t(){return e.get("/Weixin/Manager/GetRealtimeStatistic").success(function(e){return e}).error(function(e){i.error("GetData Error!")})}var a={getData:t};return a}var n=a(1),i=a(10);n.module("gvApp.modules").factory("realtimestatisticService",o),o.$inject=["$http"]},function(e,t){},function(e,t){}]);